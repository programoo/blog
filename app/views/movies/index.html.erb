<div class="d-flex justify-content-center my-4">
  <%= form_with url: movies_path, method: :get, local: true do |form| %>
    <div class="input-group" style="max-width: 400px;">
      <span class="input-group-text bg-white border-end-0">
        <i class="bi bi-search"></i>
      </span>
      <%= form.text_field :query, value: params[:query], placeholder: "Search", class: "form-control border-start-0" %>
      <%= form.submit "Search", class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
<div data-controller="infinite-scroll" data-infinite-scroll-url-value="<%= movies_path %>" data-infinite-scroll-target="list"
  data-next-page="<%= @pagy.next %>"
  data-last-page="<%= @pagy.last %>"
  >
  <div class="container mt-4">
    <div class="row" id="movie-list">
      <% @movies.each do |movie| %>
        <%= render movie %>
      <% end %>
    </div>
  </div>
</div>