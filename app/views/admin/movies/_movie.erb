<tr>
  <td class="border px-4 py-2">
    <% if movie.images.attached? %>
      <%= image_tag movie.images.first.variant(resize_to_limit: [64, 64]), alt: movie.title %>
    <% else %>
      No Image
    <% end %>
  </td>
  <td class="border px-4 py-2"><%= movie.title %></td>
  <td class="border px-4 py-2"><%= "#{movie.content.to_plain_text.lines.first&.strip}..." %></td>
  <td class="border px-4 py-2 flex gap-2">
    <%= link_to 'Preview', movie_path(movie), class: 'btn btn-sm btn-primary' %>
    <% if current_user&.admin %>
      <%= link_to 'Edit', edit_admin_movie_path(movie), class: 'btn btn-sm btn-primary' %>
      <%= link_to 'Delete', admin_movie_path(movie),
            data: { turbo_method: :delete, turbo_confirm: 'Are you sure you want to delete this movie?' },
            class: 'btn btn-sm btn-danger' %>
    <% end %>
  </td>
</tr>