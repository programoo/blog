<div id="<%= dom_id user %>" class="container mt-4">
  <div class="card shadow-sm border-0">
    <div class="card-body">
      <div class="d-flex align-items-center mb-3">
        <div class="me-3">
          <%= image_tag(
            if user.avatar.attached?
              user.avatar.variant(resize_to_fill: [80, 80])
            else
              "placeholder.png" # put your default image in app/assets/images
            end,
            class: "rounded-circle",
            width: 80,
            height: 80,
            alt: "User Avatar"
          ) %>
        </div>
        <div>
          <h3 class="mb-1"><%= "#{user.get_display_name}" %></h3>
          <p class="text-muted mb-0"><%= user.email %></p>
        </div>
      </div>
      <hr>
      <h5 class="mb-2">About</h5>
      <p class="text-muted">
        <% if user.bio.present? %>
          <%= user.bio %>
        <% else %>
          <%= "This user has not added a bio yet." %>
        <% end %>
      </p>
      <hr>
      <div class="d-flex gap-2">
        <% if current_user.id == @user.id %>
          <%= link_to "Edit Profile", edit_user_path(user), class: "btn btn-primary" %>
        <% end %>
        <%= link_to "Back", "javascript:history.back()", class: "btn btn-outline-secondary" %>
      </div>
    </div>
  </div>
</div>
